<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <title>Motion Brush</title>
    <link
      rel="stylesheet"
      href="https://bootswatch.com/4/cyborg/bootstrap.min.css"
    />
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="top">
      <img src="./images/af.png" alt="Logo" style="height: 3.6rem;">
    </div>
    

    <div>
      <canvas id="c"></canvas>
    </div>

    <div class="bottom">
      <button
        type="reset"
        class="btn btn-primary btn-lg"
        style="margin: 4px;"
        onclick="location.reload();"
      >
        Clear
      </button>
      <button type="reset" class="btn btn-primary btn-lg" style="margin: 4px;" onclick="downloadCanvas()">
        Save
      </button>
   
    </div>


    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs="
      crossorigin="anonymous"
    ></script>

    <script>
      function downloadCanvas(){
          let canvasImage = document.getElementById('c').toDataURL('image/png');
          // this can be used to download any image from webpage to local disk
          let xhr = new XMLHttpRequest();
          xhr.responseType = 'blob';
          xhr.onload = function () {
              let a = document.createElement('a');
              a.href = window.URL.createObjectURL(xhr.response);
              a.download = 'image_name.jpg';
              a.style.display = 'none';
              document.body.appendChild(a);
              a.click();
              a.remove()
            };
            xhr.open('GET', canvasImage); // This is to download the canvas Image
            xhr.send();
          }

    </script>

    <script src="js/pxglutils2.js"></script>
    <script src="js/pxslabs.js"></script>
    <script src="js/pxshaders.js"></script>
    <script src="js/mbrush_webgl.js"></script>
    <script type="text/javascript"></script>
  </body>
</html>
